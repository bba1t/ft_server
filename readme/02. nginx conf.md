
#### –ì–ª–∞–≤–Ω—ã–π nginx.conf

```nginx
# /etc/nginx/nginx.conf

# –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ä–∞–±–æ—Ç—ã Nginx
user www-data;                    # üßë‚Äçüíº –ü–æ–¥ –∫–∞–∫–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —Ä–∞–±–æ—Ç–∞–µ—Ç worker-–ø—Ä–æ—Ü–µ—Å—Å
worker_processes auto;            # üî¢ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ worker-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (auto = –ø–æ —á–∏—Å–ª—É CPU)
pid /run/nginx.pid;               # üìç –§–∞–π–ª —Å PID –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π
events {
    worker_connections 768;       # üîå –ú–∞–∫—Å–∏–º—É–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –Ω–∞ worker
    multi_accept on;              # ‚úÖ –ü—Ä–∏–Ω–∏–º–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
}

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ HTTP-–º–æ–¥—É–ª—è
http {
    # –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    sendfile on;                  # üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å sendfile –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
    tcp_nopush on;                # üì¶ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∞–∫–µ—Ç–æ–≤
    tcp_nodelay on;               # ‚ö° –û—Ç–∫–ª—é—á–∞—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É Nagle
    keepalive_timeout 65;         # ‚è±Ô∏è –¢–∞–π–º–∞—É—Ç keep-alive —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
    types_hash_max_size 2048;     # üìè –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ö—ç—à–∞ MIME-—Ç–∏–ø–æ–≤
    
    # MIME-—Ç–∏–ø—ã
    include /etc/nginx/mime.types; # üìã –ü–æ–¥–∫–ª—é—á–∞–µ–º —Ñ–∞–π–ª MIME-—Ç–∏–ø–æ–≤
    default_type application/octet-stream; # üîß MIME-—Ç–∏–ø –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    
    # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    access_log /var/log/nginx/access.log; # üìù –õ–æ–≥ –¥–æ—Å—Ç—É–ø–∞
    error_log /var/log/nginx/error.log;   # ‚ùå –õ–æ–≥ –æ—à–∏–±–æ–∫
    
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Gzip —Å–∂–∞—Ç–∏—è
    gzip on;                      # üóúÔ∏è –í–∫–ª—é—á–∏—Ç—å —Å–∂–∞—Ç–∏–µ
    gzip_vary on;
    gzip_min_length 1024;
    
    # –ü–æ–¥–∫–ª—é—á–∞–µ–º –í–°–ï –∫–æ–Ω—Ñ–∏–≥–∏ –∏–∑ sites-enabled –∏ conf.d
    include /etc/nginx/conf.d/*.conf;     # üìÇ –ö–æ–Ω—Ñ–∏–≥–∏ –∏–∑ conf.d
    include /etc/nginx/sites-enabled/*;   # üåê –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ö–æ—Å—Ç—ã
}
```

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Ö–æ—Å—Ç–∞ (–ø—Ä–∏–º–µ—Ä –¥–ª—è WordPress):

```nginx
# /etc/nginx/sites-available/wordpress
server {
    # üéØ –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
    listen 80;                    # üëÇ –°–ª—É—à–∞—Ç—å –ø–æ—Ä—Ç 80 (HTTP)
    listen [::]:80;               # üëÇ IPv6
    server_name example.com www.example.com; # üåê –î–æ–º–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–∞
    
    # –ö–æ—Ä–Ω–µ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å–∞–π—Ç–∞, –æ—Ç–∫—É–¥–∞ –±—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏–∫—É
    root /var/www/wordpress;
    # –ö–∞–∫–æ–π —Ñ–∞–π–ª –±—Ä–∞—Ç—å
    index index.php index.html index.htm; # üìë –ò–Ω–¥–µ–∫—Å–Ω—ã–µ —Ñ–∞–π–ª—ã (–≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞)
    
    # üé™ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ (–≤–∞—à–µ –∑–∞–¥–∞–Ω–∏–µ!)
    location /autoindex/ {
        autoindex on;             # üìÇ –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –ø–∞–ø–∫–∏
        autoindex_exact_size off; # üìä –†–∞–∑–º–µ—Ä—ã –≤ —á–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
        autoindex_localtime on;   # ‚è∞ –í—Ä–µ–º—è –ø–æ –ª–æ–∫–∞–ª—å–Ω–æ–º—É —á–∞—Å–æ–≤–æ–º—É –ø–æ—è—Å—É
    }
    
    # üêò –û–±—Ä–∞–±–æ—Ç–∫–∞ PHP —á–µ—Ä–µ–∑ PHP-FPM
    location ~ \.php$ {
        include snippets/fastcgi-php.conf; # üîß –ü–æ–¥–∫–ª—é—á–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ FastCGI
        
        # üîÑ –ü–µ—Ä–µ–¥–∞–µ–º –∑–∞–ø—Ä–æ—Å—ã PHP-FPM
        fastcgi_pass unix:/var/run/php/php7.3-fpm.sock; # üéØ –°–æ–∫–µ—Ç PHP-FPM
        include fastcgi_params;   # üìù –ü–æ–¥–∫–ª—é—á–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã FastCGI
    }
    
    # üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å - –∑–∞–ø—Ä–µ—â–∞–µ–º –¥–æ—Å—Ç—É–ø –∫ —Å–∫—Ä—ã—Ç—ã–º —Ñ–∞–π–ª–∞–º
    location ~ /\. {
        deny all;                 # üö´ –ó–∞–ø—Ä–µ—Ç–∏—Ç—å –¥–æ—Å—Ç—É–ø
        access_log off;           # üìµ –ù–µ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å
        log_not_found off;        # üîá –ù–µ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å 404 –æ—à–∏–±–∫–∏
    }
    
    # üìù –õ–æ–≥–∏ –¥–ª—è —ç—Ç–æ–≥–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Ö–æ—Å—Ç–∞
    access_log /var/log/nginx/wordpress.access.log;
    error_log /var/log/nginx/wordpress.error.log;
}
```

#### SSL –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ server –±–ª–æ–∫):

```nginx
server {
    listen 443 ssl http2;         # üëÇ HTTPS + HTTP/2
    listen [::]:443 ssl http2;    # üëÇ IPv6
    server_name example.com;
    
    # üìú SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã (–≤–∞—à–µ –∑–∞–¥–∞–Ω–∏–µ!)
    ssl_certificate /etc/ssl/certs/nginx-selfsigned.crt;
    ssl_certificate_key /etc/ssl/private/nginx-selfsigned.key;
    
    # üîí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ SSL
    ssl_protocols TLSv1.2 TLSv1.3;
    ssl_ciphers ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512;
    ssl_prefer_server_ciphers off;
}
```


#### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
brew services start nginx
brew services restart nginx

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞, –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –æ—Ç–∫—É–¥–∞ —É–≥–æ–¥–Ω–æ
nginx -t
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏
nginx -c /etc/nginx/nginx.conf

# –ó–∞–ø—É—Å–∫ nginx –≤ foreground —Ä–µ–∂–∏–º–µ (–¥–ª—è Docker)
nginx -g 'daemon off;'
# –ó–∞–ø—É—Å–∫ –≤ background —Ä–µ–∂–∏–º–µ (–∫–∞–∫ –¥–µ–º–æ–Ω)
nginx
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ nginx
nginx -s stop
# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
nginx -s reload
# –ü–ª–∞–≤–Ω—ã–π –≤—ã—Ö–æ–¥ (–∑–∞–≤–µ—Ä—à–∏—Ç —Ç–µ–∫—É—â–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è)
nginx -s quit


# –ü—Ä–æ–≤–µ—Ä–∫–∞, –¥–æ—Å—Ç—É–ø–Ω–∞ –ª–∏ –∫–æ–º–∞–Ω–¥–∞ service
which service

service nginx start
service nginx stop
service nginx restart
service nginx status
```
