#### **–†–µ—à–µ–Ω–∏–µ –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞**

- –î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è php –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:
	- –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É `/run/php/` –¥–ª—è —Å–æ–∫–µ—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ PHP-FMP
	- –î–æ–±–∞–≤–∏—Ç—å `location php` –≤ `nginx.conf`
- –î–ª—è —Ä–∞–±–æ—Ç—ã MySQL –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ç–æ–ª—å–∫–æ:
	- –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É –¥–ª—è mysql —Å–æ–∫–µ—Ç–∞ `/run/mysqld`
	- –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–∞–º–∏—Ö –¥–∞–Ω–Ω—ã—Ö `/var/lib/mysql`
	- –í—ã–¥–∞—Ç—å MySQL –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å—å
	- `my.cnf` - –±–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞: –ø—É—Ç—å –∫ —Å–æ–∫–µ—Ç—É, –ø—É—Ç—å –∫ lib
	- `init.sql` - —Å–æ–∑–¥–∞–µ—Ç –±–¥ –≤–æ—Ä–¥–ø—Ä–µ—Å—Å –∏ –ø—Ö–ø–∞–¥–º–∏–Ω, —Å–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ä—É—Ç –∏ –≤–æ—Ä–¥–ø–µ—Ä—Å—Å
	- `start.sh` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –±–¥, —Å—Ç–∞—Ä—Ç—É–µ—Ç –±–¥ –≤ —Ñ–æ–Ω–µ, –ø—Ä–∏–º–µ–Ω—è–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –±–¥ init.sql, —Å—Ç–∞—Ä—Ç—É–µ—Ç php-fpm, —Å—Ç–∞—Ä—Ç—É–µ—Ç nginx
- –ü—Ä–æ–≤–µ—Ä–∫–∞:
	1) –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ MySQL –∫–∞–∫ root: `mysql -u root -prootpassword`
	2) –ò–ª–∏ –∫–∞–∫ WordPress –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: `mysql -u wpuser -pwppassword wordpress`
	3) –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: `SHOW DATABASES;`
	4) –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π: `SELECT user, host FROM mysql.user;`
	5) `localhost/db_test.php`¬†- –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å —É—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–¥ –∏ –¥–∞–Ω–Ω—ã–µ
	6) `localhost/final_test.php` - 
	7) –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤ –≤—Å–µ—Ö –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤: `tail -f /var/log/nginx/error.log`

###### dockerfile
```dockerfile
FROM debian:buster

RUN echo "deb http://archive.debian.org/debian/ buster main" > /etc/apt/sources.list && \
    echo "deb http://archive.debian.org/debian-security buster/updates main" >> /etc/apt/sources.list

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –í–°–ï –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
RUN apt-get update && apt-get install -y \
    nginx \
    php php-fpm php-mysql php-cli \
    mariadb-server mariadb-client \
    wget openssl

# –ü–∞–ø–∫–∞ –¥–ª—è PHP-FPM —Å–æ–∫–µ—Ç–∞, –∏–ª–∏ –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å /var/run/php/
RUN mkdir -p /run/php/

# /var/run/mysqld/ –¥–ª—è –ø–∏–¥–∞ –∏ —Å–æ–∫–µ—Ç–∞
# /var/lib/mysql/ –ó–¥–µ—Å—å –±—É–¥—É—Ç –≤—Å–µ –≤–∞—à–∏ —Ç–∞–±–ª–∏—Ü—ã, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –¥–∞–Ω–Ω—ã–µ
RUN mkdir -p /var/run/mysqld && \
    mkdir -p /var/lib/mysql && \
    chown -R mysql:mysql /var/run/mysqld /var/lib/mysql

# my.cnf –≥–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ –¥–ª—è –±–¥
# init.sql –¥–∞–µ—Ç —Ä—É—Ç—É –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å –∏ —Å–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –≤–æ—Ä–¥–ø—Ä–µ—Å—Å–∞
# —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ 
COPY config/nginx.conf /etc/nginx/sites-available/default
COPY config/my.cnf /etc/mysql/my.cnf
COPY scripts/init.sql /tmp/init.sql
COPY scripts/start.sh /start.sh

COPY scripts/db_test.php /var/www/html/db_test.php
COPY scripts/final_test.php /var/www/html/final_test.php

RUN chmod +x /start.sh
CMD ["./start.sh"]
```

##### /nginx.conf
```nginx
# /nginx.conf

server {
    listen 80;
    listen [::]:80;
    
    server_name _;
    root /var/www/html;
    index index.php index.html index.htm;

    # üêò –û–±—Ä–∞–±–æ—Ç–∫–∞ PHP —Ñ–∞–π–ª–æ–≤
    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/run/php/php7.3-fpm.sock;
        include fastcgi_params;
    }

    # üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è PHP –≤ uploads
    location ~ /uploads/.*\.php$ {
        deny all;
    }

    # üìù –û—Å–Ω–æ–≤–Ω–æ–π location
    location / {
        try_files $uri $uri/ =404;
    }

    # üìä –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    access_log /var/log/nginx/access.log;
    error_log /var/log/nginx/error.log;
}
```

##### /my.cnf
```ini
# üéØ –ë–õ–û–ö –ù–ê–°–¢–†–û–ï–ö –°–ï–†–í–ï–†–ê MYSQL
[mysqld]

# üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –æ—Ç –∏–º–µ–Ω–∏ –∫–æ—Ç–æ—Ä–æ–≥–æ —Ä–∞–±–æ—Ç–∞–µ—Ç MySQL
user = mysql
# üìç –§–∞–π–ª —Å Process ID (–¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ª—É–∂–±–æ–π)
pid-file = /var/run/mysqld/mysqld.pid
# üîå Unix-—Å–æ–∫–µ—Ç –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
socket = /var/run/mysqld/mysqld.sock
# üö™ –ü–æ—Ä—Ç –¥–ª—è —Å–µ—Ç–µ–≤—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
port = 3306
# üìÅ –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è —Å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ MySQL
basedir = /usr
# üíæ –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
datadir = /var/lib/mysql
# üìä –í—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–æ–∫ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü
tmpdir = /tmp
# üåê IP-–∞–¥—Ä–µ—Å, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Å–ª—É—à–∞–µ—Ç MySQL (127.0.0.1 = —Ç–æ–ª—å–∫–æ localhost)
bind-address = 127.0.0.1

# üõ°Ô∏è –ù–ê–°–¢–†–û–ô–ö–ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò
# üîì –†–∞–∑—Ä–µ—à–∏—Ç—å —Å–µ—Ç–µ–≤—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (0 = —Ä–∞–∑—Ä–µ—à–µ–Ω–æ)
skip-networking=0
# üîì –ù–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å bind-address –Ω–∞—Å—Ç—Ä–æ–π–∫—É
skip-bind-address

# üöÄ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –î–õ–Ø DOCKER/CONTAINERS
# üí∞ –†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–Ω–æ–≥–æ –ø—É–ª–∞ InnoDB (–∫—ç—à –¥–∞–Ω–Ω—ã—Ö –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏)
innodb_buffer_pool_size = 16M
# üìù –†–∞–∑–º–µ—Ä –ª–æ–≥-—Ñ–∞–π–ª–æ–≤ InnoDB
innodb_log_file_size = 48M
# üë• –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
max_connections = 100

# üéØ –ë–õ–û–ö –ù–ê–°–¢–†–û–ï–ö –ö–õ–ò–ï–ù–¢–ê MYSQL
[mysql]
# üî§ –ö–æ–¥–∏—Ä–æ–≤–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
default-character-set = utf8mb4

# üéØ –ë–õ–û–ö –ù–ê–°–¢–†–û–ï–ö MYSQLADMIN
[mysqladmin]
# üî§ –ö–æ–¥–∏—Ä–æ–≤–∫–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è mysqladmin
default-character-set = utf8mb4
```

##### /init.sql
```sql
-- üóÉÔ∏è –ù–ê–°–¢–†–û–ô–ö–ê –ë–ê–ó –î–ê–ù–ù–´–• –ò –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ô


-- –ú–µ–Ω—è–µ–º –ø–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è root –Ω–∞ 'rootpassword'
ALTER USER 'root'@'localhost' IDENTIFIED BY 'rootpassword';

  
-- –£–¥–∞–ª—è–µ–º –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø—É—Å—Ç—ã–º –∏–º–µ–Ω–µ–º
DELETE FROM mysql.user WHERE User='';


-- –£–¥–∞–ª—è–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é —Ç–µ—Å—Ç–æ–≤—É—é –±–∞–∑—É, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å —É—è–∑–≤–∏–º–∞
-- –£–¥–∞–ª—è–µ–º –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–π –±–∞–∑—ã
DROP DATABASE IF EXISTS test;
DELETE FROM mysql.db WHERE Db='test' OR Db='test\\_%';


-- –°–æ–∑–¥–∞–µ–º –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Å –∏–º–µ–Ω–µ–º 'wordpress', –µ—Å–ª–∏ –æ–Ω–∞ –µ—â–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
-- CHARACTER SET utf8mb4 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ —Å–∏–º–≤–æ–ª—ã (–≤–∫–ª—é—á–∞—è —ç–º–æ–¥–∑–∏)
-- COLLATE utf8mb4_unicode_ci –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
CREATE DATABASE IF NOT EXISTS wordpress
CHARACTER SET utf8mb4
COLLATE utf8mb4_unicode_ci;

  
-- –°–æ–∑–¥–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è 'wpuser' –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å localhost
-- –°–æ–∑–¥–∞–µ–º —Ç–æ–≥–æ –∂–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å 127.0.0.1
-- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç IP –≤–º–µ—Å—Ç–æ localhost
CREATE USER IF NOT EXISTS 'wpuser'@'localhost' IDENTIFIED BY 'wppassword';
CREATE USER IF NOT EXISTS 'wpuser'@'127.0.0.1' IDENTIFIED BY 'wppassword';
  

-- –î–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é wpuser –í–°–ï –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ –Ω–∞ –±–∞–∑—É wordpress
-- @'localhost' - —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã
-- @'127.0.0.1' - —Ç–æ–ª—å–∫–æ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π —á–µ—Ä–µ–∑ IP localhost
GRANT ALL PRIVILEGES ON wordpress.* TO 'wpuser'@'localhost';
GRANT ALL PRIVILEGES ON wordpress.* TO 'wpuser'@'127.0.0.1';
  

-- –°–æ–∑–¥–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω—É—é –±–∞–∑—É –¥–ª—è phpMyAdmin (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
CREATE DATABASE IF NOT EXISTS phpmyadmin
CHARACTER SET utf8mb4
COLLATE utf8mb4_unicode_ci;

  
-- –ü—Ä–∏–º–µ–Ω—è–µ–º –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
-- –ë–µ–∑ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –≤—Å—Ç—É–ø—è—Ç –≤ —Å–∏–ª—É!
FLUSH PRIVILEGES;
```


##### /start.sh
```bash
# /start.sh

#!/bin/bash

echo "üîß Initializing MySQL..."

# üéØ –ü–†–û–í–ï–†–ö–ê: –ü–ï–†–í–´–ô –õ–ò –ó–ê–ü–£–°–ö?
# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —Å–∏—Å—Ç–µ–º–Ω–∞—è –±–∞–∑–∞ mysql
# –ï—Å–ª–∏ –Ω–µ—Ç - —ç—Ç–æ –ø–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫, –Ω—É–∂–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
if [ ! -d "/var/lib/mysql/mysql" ]; then
    echo "üì¶ First run - initializing database..."
    # üèóÔ∏è –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –°–ò–°–¢–ï–ú–ù–´–• –ë–ê–ó –î–ê–ù–ù–´–•
    # --user=mysql    : –∑–∞–ø—É—Å–∫–∞—Ç—å –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è mysql
    # --ldata=...     : —É–∫–∞–∑—ã–≤–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –≥–¥–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã
    mysql_install_db --user=mysql --ldata=/var/lib/mysql
fi

echo "üöÄ Starting MySQL..."
# üèÉ –ó–ê–ü–£–°–ö MYSQL –í –§–û–ù–û–í–û–ú –†–ï–ñ–ò–ú–ï
# mysqld_safe      : –±–µ–∑–æ–ø–∞—Å–Ω—ã–π wrapper –¥–ª—è mysqld –¥–µ–º–æ–Ω–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏)
# --user=mysql     : –∑–∞–ø—É—Å–∫ –æ—Ç –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è mysql
# &                : –∑–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
mysqld_safe --user=mysql &

echo "‚è≥ Waiting for MySQL to start..."
# MySQL –Ω—É–∂–Ω–æ –≤—Ä–µ–º—è —á—Ç–æ–±—ã –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –Ω–∞—á–∞—Ç—å —Å–ª—É—à–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
sleep 10

echo "üìù Configuring MySQL..."
# üîß –í–´–ü–û–õ–ù–ï–ù–ò–ï SQL –°–ö–†–ò–ü–¢–ê –ù–ê–°–¢–†–û–ô–ö–ò
# -u root          : –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å root
# < /tmp/init.sql  : –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Ñ–∞–π–ª–∞ –≤ mysql
mysql -u root < /tmp/init.sql

echo "üöÄ Starting PHP-FPM..."
# üêò –ó–ê–ü–£–°–ö PHP-FPM –í –§–û–ù–û–í–û–ú –†–ï–ñ–ò–ú–ï
# --daemonize      : –∑–∞–ø—É—Å–∫ –∫–∞–∫ –¥–µ–º–æ–Ω (—Ñ–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å)
php-fpm7.3 --daemonize

echo "üöÄ Starting Nginx..."
# üåê –ó–ê–ü–£–°–ö NGINX –í FOREGROUND –†–ï–ñ–ò–ú–ï
# -g 'daemon off;' : –∑–∞–ø—Ä–µ—Ç —É—Ö–æ–¥–∞ –≤ —Ñ–æ–Ω (—É–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∂–∏–≤—ã–º)
nginx -g 'daemon off;'
```

##### /db_test.php
```php
<?php
$connection = mysqli_connect('localhost', 'wpuser', 'wppassword', 'wordpress');

if ($connection) {
    echo "‚úÖ MySQL connection successful!<br>";
    
    // –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É
    mysqli_query($connection, "CREATE TABLE IF NOT EXISTS test_table (
        id INT AUTO_INCREMENT PRIMARY KEY,
        message VARCHAR(100),
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
    )");
    
    // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
    mysqli_query($connection, "INSERT INTO test_table (message) VALUES ('Hello from PHP!')");
    
    // –ß–∏—Ç–∞–µ–º –¥–∞–Ω–Ω—ã–µ
    $result = mysqli_query($connection, "SELECT * FROM test_table");
    echo "üìä Test data from database:<br>";
    while ($row = mysqli_fetch_assoc($result)) {
        echo "ID: {$row['id']}, Message: {$row['message']}, Created: {$row['created_at']}<br>";
    }
    
    mysqli_close($connection);
} else {
    echo "‚ùå MySQL connection failed: " . mysqli_connect_error();
}
?>
```

##### /final_test.php
```php
<?php
echo "<h1>üè† FT_SERVER FINAL TEST</h1>";

// –¢–µ—Å—Ç PHP
echo "<h2>‚úÖ PHP: WORKING</h2>";

// –¢–µ—Å—Ç MySQL
$mysqli = new mysqli('localhost', 'wpuser', 'wppassword', 'wordpress');
if ($mysqli->connect_error) {
    echo "<h2>‚ùå MySQL: " . $mysqli->connect_error . "</h2>";
} else {
    echo "<h2>‚úÖ MySQL: CONNECTED</h2>";
    $mysqli->close();
}

// –¢–µ—Å—Ç –∞–≤—Ç–æ–∏–Ω–¥–µ–∫—Å–∞
echo "<h2>üìÅ <a href='/autoindex/'>AUTOINDEX TEST</a></h2>";

// –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ
echo "<h2>üñ•Ô∏è SERVER INFO</h2>";
echo "PHP Version: " . phpversion() . "<br>";
echo "Server Software: " . $_SERVER['SERVER_SOFTWARE'] . "<br>";
?>
```

–í—ã–≤–æ–¥
```text
üè† FT_SERVER FINAL TEST
‚úÖ PHP: WORKING  
‚úÖ MySQL: CONNECTED
üìÅ AUTOINDEX TEST (—Å—Å—ã–ª–∫–∞)
üñ•Ô∏è SERVER INFO
PHP Version: 7.3.x
Server Software: nginx/x.x.x
```



