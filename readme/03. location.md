Почему для WordPress не нужно создавать отдельный location?
```nginx
server {
	listen 80;

	root /var/www;
    index index.php;
    server_name localhost;

	location / {
        autoindex off;
		try_files $uri $uri/ =404;
	}

	location ~ \.php$ {
		include snippets/fastcgi-php.conf;
		fastcgi_pass unix:/var/run/php/php7.3-fpm.sock;
	}
}
```

**Ответ:** 
Папка с вордпрессом в по-любому содержит `index.php` файл, а все `.php` файлы в любых поддиректориях обрабатываются глобальным блоком:
```nginx
location ~ \.php$ {
    include snippets/fastcgi-php.conf;
    fastcgi_pass unix:/var/run/php/php7.3-fpm.sock;
}
```


### Разберем по этапам что происходит при запросе `localhost/wordpress/`

#### 1. Поиск подходящего location блока
```nginx
location / {
    autoindex on;
    try_files $uri $uri/ =404;
}
```
Срабатывает блок `location /` потому что путь `/wordpress/` начинается с `/`

#### 2. Обработка директивой `try_files`
```nginx
try_files $uri $uri/ =404;
```
Nginx последовательно проверяет:

**Проверка 1: `$uri`** (точное совпадение с файлом)
- `$uri` = `/wordpress/`
- Проверяет: существует ли файл `/var/www/html/wordpress/`?
- **Результат**: ❌ Нет, это директория, а не файл

**Проверка 2: `$uri/`** (поиск индексного файла в директории)
- `$uri/` = `/wordpress/`
- Nginx ищет индексные файлы в `/var/www/html/wordpress/`
- Индексные файлы определены в: `index index.php;`

#### 3. Обработка PHP файла
Найден `index.php` → срабатывает PHP location блок:
```nginx
location ~ \.php$ {
    include snippets/fastcgi-php.conf;
    fastcgi_pass unix:/var/run/php/php7.3-fpm.sock;
}
```


#### Что было бы если бы не было index.php:

Если бы в папке `/wordpress/` не было `index.php`, сработал бы `autoindex on`:

```nginx
location / {
    autoindex on;    # ← Показывает список файлов
    try_files $uri $uri/ =404;
}
```

И вы увидели бы **список файлов** в директории `/wordpress/` вместо WordPress.


### Когда нужны отдельные location блоки:

```nginx
# Специальные настройки только для phpMyAdmin
location /phpadmin {
    # Другая корневая директория
    root /usr/share/phpmyadmin;
    
    # Специальные настройки безопасности
    allow 192.168.1.0/24;
    deny all;
    
    # Специальная аутентификация
    auth_basic "Admin Area";
    auth_basic_user_file /etc/nginx/.htpasswd;
}

# Специальные настройки для WordPress
location /wordpress {
    # WordPress специфичные настройки
    try_files $uri $uri/ /wordpress/index.php?$args;
    
    # Дополнительные заголовки безопасности
    add_header X-Frame-Options "SAMEORIGIN";
}
```
